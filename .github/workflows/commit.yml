name: Android CI

on:
  pull_request:
    branches: [ "master" ]

jobs:
  test-ibrahim-commit:
    runs-on: ubuntu-latest

    steps:
      - name: Clone repository
        uses: actions/checkout@v2

      - name: Check commit messages for "ibrahim"
        run: |
          COMMIT_MESSAGES=$(git log --format=%B ${{ github.event.pull_request.base.sha }}..${{ github.event.pull_request.head.sha }})

          if echo "$COMMIT_MESSAGES" | grep -q "ibrahim"; then
            echo "At least one commit message contains ibrahim"
          else
            echo "No commit messages contain ibrahim"
            exit 1
          fi
